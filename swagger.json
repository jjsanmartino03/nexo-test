{"openapi":"3.0.0","paths":{"/personas":{"get":{"operationId":"PeopleController_findAll","summary":"Obtener todas las personas con sus direcciones","parameters":[{"name":"dni","required":false,"in":"query","description":"DNI de la persona","schema":{"type":"number"}},{"name":"nombre","required":false,"in":"query","description":"Nombre de la persona","schema":{"type":"string"}},{"name":"edad","required":false,"in":"query","description":"Edad de la persona","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Personas"]},"post":{"operationId":"PeopleController_create","summary":"Crear una persona","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePersonDto"}}}},"responses":{"201":{"description":""}},"tags":["Personas"]}},"/personas/{dni}":{"get":{"operationId":"PeopleController_findOne","summary":"Obtener una persona con sus direcciones","parameters":[{"name":"dni","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Personas"]},"put":{"operationId":"PeopleController_update","summary":"Actualizar datos de una persona","parameters":[{"name":"dni","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePersonDto"}}}},"responses":{"200":{"description":""}},"tags":["Personas"]},"delete":{"operationId":"PeopleController_remove","summary":"Eliminar una persona y sus direcciones asociadas","parameters":[{"name":"dni","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Personas"]}},"/personas/{dni}/direcciones":{"post":{"operationId":"PeopleController_addAddress","summary":"Agregar una dirección a una persona","parameters":[{"name":"dni","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUpdateAddressDto"}}}},"responses":{"201":{"description":""}},"tags":["Personas"]}},"/personas/export/csv":{"get":{"operationId":"PeopleController_exportPeopleToCSV","summary":"Exportar datos de todas las personas a un CSV","parameters":[],"responses":{"200":{"description":""}},"tags":["Personas"]}},"/direcciones/{id}":{"put":{"operationId":"AddressController_update","summary":"Actualizar datos de una dirección","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUpdateAddressDto"}}}},"responses":{"200":{"description":""}},"tags":["Direcciones"]},"delete":{"operationId":"AddressController_remove","summary":"Eliminar una dirección","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Direcciones"]}},"/fotos":{"post":{"operationId":"PhotosController_uploadPhoto","summary":"Cargar una foto y obtener la URL","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"foto":{"type":"string","format":"binary"}},"required":["foto"]}}}},"responses":{"201":{"description":""}},"tags":["Fotos"]}}},"info":{"title":"Nexo Test","description":"Este proyecto es un test técnico para la empresa Nexo Soluciones. Consiste\nen una API REST que permite realizar operaciones CRUD sobre una base de datos\nde personas.\n\nA través de esta API se pueden crear, leer, actualizar y eliminar **personas**,\nasí como crear, modificar y obtener sus **direcciones**.\n\n**Aclaraciones:**\n- La API no permite eliminar todas las direcciones de una persona, ni crear una persona sin dirección, ya que el requerimiento establece que una persona debe tener al menos una dirección.\n- Para subir una foto, se debe primero utilizar el endpoint para cargar la foto y obtener la url, y luego utilizar esa url para crear o actualizar una persona.","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"CreateUpdateAddressDto":{"type":"object","properties":{"calle":{"type":"string","description":"Calle de la dirección","example":"Av. Siempre Viva"},"numero":{"type":"number","description":"Número de la dirección","example":"123"},"ciudad":{"type":"string","description":"Ciudad de la dirección","example":"Springfield"}},"required":["calle","numero","ciudad"]},"CreatePersonDto":{"type":"object","properties":{"dni":{"type":"number","description":"DNI de la persona","example":"34567832"},"nombre":{"type":"string","description":"Nombre de la persona","example":"Juan"},"apellido":{"type":"string","description":"Apellido de la persona","example":"Perez"},"edad":{"type":"number","description":"Edad de la persona","example":"20"},"foto":{"type":"string","description":"URL de la foto de la persona","example":"https://res.cloudinary.com/dyz4ycir1/image/upload/v1704231094/ewykl1lghi8yvmssripl.jpg"},"direcciones":{"description":"Direcciones de la persona","example":[{"calle":"Aristóbulo del Valle","numero":1578,"ciudad":"San Francisco"}],"type":"array","items":{"$ref":"#/components/schemas/CreateUpdateAddressDto"}}},"required":["dni","nombre","apellido","edad","foto","direcciones"]},"UpdatePersonDto":{"type":"object","properties":{"nombre":{"type":"string","description":"Nombre de la persona","example":"Juan"},"apellido":{"type":"string","description":"Apellido de la persona","example":"Perez"},"edad":{"type":"number","description":"Edad de la persona","example":"20"},"foto":{"type":"string","description":"URL de la foto de la persona","example":"https://www.google.com"}},"required":["nombre","apellido","edad","foto"]}}}}